<template name="menu">
  <div class="ui top menu navbar inverted">
    <a class="item" href="/">
      <h1 class="ui header inverted">
        PGCC
      </h1>
    </a>
    {{#if currentUser}}
      <a class="item" href="/reservations">
        <i class="large home icon"></i>
        My Reservations
      </a>
      <a class="item" href="/tee_times">
        <i class="large ticket icon"></i>
        Book a time
      </a>
      {{#if isInRole 'admin'}}
        <a class="item" href="/add_tee_times">
          <i class="large add square icon"></i>
          Add tee times
        </a>
      {{/if}}
    {{/if}}
    <div class="right menu">
      {{#if currentUser}}
        {{> menu_settings_dropdown}}
      {{else}}
        <div class="item">
          <a class="ui primary button" href="/login">Sign in</a>
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="menu_settings_dropdown">
  <a class="ui dropdown item settings-dropdown">
    <span class="name">{{displayName}}</span>
    {{#with userDetails}}
      {{#if this.profileImage.url}}
        <img class="ui avatar image" src="{{this.profileImage.url}}">
      {{/if}}
    {{/with}}
    <div class="menu transition hidden" tabindex="-1">
      <a class="item" href="/settings">
        <i class="large settings icon"></i>
        Settings
      </a>
      <a class="item" href="/change_password">
        <i class="large lock icon"></i>
        Change password
      </a>
      <a class="item" id="sign-out">
        <i class="large sign out icon"></i>
        Sign out
      </a>
    </div>
  </a>
</template>
